# テスト仕様書（ドラフト）

## 概要

このドキュメントは、店舗向けポイント管理アプリ（MVP）のテスト仕様をまとめたものです。テスト駆動開発（TDD）の方針に基づき、期待される動作・正常系・異常系の両方をカバーします。

---

## 1. モード選択画面

### 目的

* お客さま用／店舗スタッフ用の選択ボタンが正しく表示されること
* ボタン選択時に正しい画面へ遷移すること

### テスト項目

* [ ] 画面表示時、"モードを選択してください"のテキストが存在する
* [ ] "店舗オーナー登録" ボタン押下時、登録画面に遷移する
* [ ] "店舗スタッフログイン" ボタン押下時、ログイン画面に遷移する

---

## 2. 店舗オーナー登録画面

### 目的

* 必須項目の正しい入力ができること
* 不正・未入力時にエラーを返すこと

### テスト項目

* [ ] 店名・住所・営業時間をすべて入力して登録できる
* [ ] 店名未入力の場合、エラーが返される
* [ ] 営業時間未入力の場合、エラーが返される
* [ ] 登録後、サブスク登録画面に遷移する

---

## 3. サブスク仮登録画面

### 目的

* クレジットカード情報をダミーで受け取り、処理を通す

### テスト項目

* [ ] 有効なカード番号・有効期限・CVCを入力し送信できる
* [ ] 空欄で送信した場合、エラーが返される
* [ ] 処理完了後、トップ画面に遷移する

---

## 4. 店舗スタッフログイン画面

### 目的

* スタッフ用のメールアドレスとパスワードによる認証を行う

### テスト項目

* [ ] 正しいメール・パスワードでログインできる
* [ ] 間違ったメール・パスワードでログイン失敗する
* [ ] ログイン後、スキャン画面に遷移する

---

## 5. QRスキャン画面

### 目的

* QRコードを読み取り、顧客IDを発行・記録できる

### テスト項目

* [ ] スキャンボタン押下で顧客IDがUUID形式で生成される
* [ ] 顧客IDが顧客リストに保存される
* [ ] 完了後、完了メッセージが表示される

---

## 補足

* テストは `pytest` を用い、正常系・異常系の両方を最初から作成
* テスト対象が増える場合はこの仕様書を随時更新する
* E2Eテスト（ブラウザ操作）はMVP後に優先度を再評価する
